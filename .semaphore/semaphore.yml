# Free topology pipeline example with 6 blocks:
#
#  A - B - C
#    /   \
#  D       E - F
#
version: v1.0
name: Free topology - complex topology
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1604

blocks:
  - name: A
    # Empty array means "no dependencies" -> start immediately
    dependencies: []
    task:
      jobs:
        - name: List of changes
           commands:
             - echo A

  - name: B
    dependencies: [A, D]
    task:
      jobs:
        - name: List of changes
           commands:
             - echo foo

  - name: C
    dependencies: [B]
    task:
      jobs:
        - name: List of changes
           commands:
             - echo foo

  - name: D
    # Empty array means "no dependencies" -> start immediately
    dependencies: []
    task:
      jobs:
        - name: List of changes
           commands:
             - echo foo

  - name: E
    dependencies: [B]
    task:
      jobs:
        - name: List of changes
           commands:
             - echo foo

  - name: F
    dependencies: [E]
    task:
      jobs:
        - name: List of changes
           commands:
             - echo foo

